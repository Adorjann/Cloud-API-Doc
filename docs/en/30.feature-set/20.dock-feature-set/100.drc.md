## Function Overview

The live flight controls function is provided to solve the restriction that the drone and DJI Dock can not be immediately operated during the remote controlling process. At real scenes, the drone can response from idle state or pause the executing wayline task. Developer can control the device or payload through manual method. Through the live flight controls function, developer can get safe and reliable drone control, high real-time command sending and live streaming screen transmission, osd information pushing and payload control ability.

Live flight controls APIs can be divided into flight control commands (DRC commands), payload control commands, flyto commands and one-key taking off commands.

* Flight control commands（DRC commands）
  
  Drone Remote Control (DRC) uses MQTT protocol and add two new topics to represents upward link and downward link. [MQTT Topic Definition](https://developer.dji.com/doc/cloud-api-tutorial/en/server-api-reference/mqtt/topic-definition.html) provides introduction and example of drc Topic struction. After the server and device successfully build MQTT link, an EMQX Broker will be distributed to the DRC communication link from server to device for faster transmission and response. To use DRC commands, the live flight controls control mode should be entered in advanced. DRC commands usually do not limited by flight control authority, but the `DRC-flight control Method: drone_control` must need the flight control authority.

<div>
<div div style="text-align: center"><p>Figure. DRC link</p></div>
<div align=center>
<img src="https://terra-1-g.djicdn.com/71a7d383e71a4fb8887a310eb746b47f/cloudapi/v1.4/DRC-link.png" style="width:auto"/>
</div></div>

* Payload control commands: All the payload control commands require payload control authority. Current payload control commands control the camera and gimbal actions to realize the payload operations like photo taking, camera zooming in or zooming out, gimbal reset and so on. Therefore the target information can be obtained through these payload operations.

* Flyto commands and one-key taking off commands: flyto commands and one-key taking off commands are used to make the drone fly to the target point and hover. The difference is at the appliable scene. The flyto commands are applicable when the drone is in the air or the dock cover is opened. The one-key taking off commands are appliable when the dock cover is closed. If developer uses the one-key taking off command to make the drone reach the target point, flyto commands can be continuously issued later. Currently, single target point is supported. 

## Interactive Timing Diagram

> **Note:** To avoid the drone destory, executing the flight control authority seizure and payload control authority seizure are recommended before issue the live flight controls APIs.

<div align=center>
<img src="https://terra-1-g.djicdn.com/71a7d383e71a4fb8887a310eb746b47f/cloudapi/v1.4/command-flight-working-scenes-en.png" style="width:auto"/>
</div>

## Detailed API Realization

> **Notes:**
>
> * The chapter of live flight controls APIs is introduced according to the Topic type.
> * Only when the drone is in the air, the media files generated by the payload control commands will be pushed by the media management function.

[Live Flight Controls](https://developer.dji.com/doc/cloud-api-tutorial/en/server-api-reference/mqtt/thing-model/gateway/dock/drc.html)

* Flight control commands (DRC commands)
* Payload control commands
* flyto commands
* One-key taking off commands
